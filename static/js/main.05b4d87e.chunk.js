(this["webpackJsonptemperature-website"]=this["webpackJsonptemperature-website"]||[]).push([[0],{169:function(e,n){},170:function(e,n){},178:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(64),i=t.n(c),o=(t(77),t(71)),u=t(69),l=t(25),s=t(18),f=t(65),d=t(19),m=t(70);function b(){var e=Object(s.a)(["\n\tdisplay: inline-flex;\n\theight: 100%;\n\tjustify-content: center;\n\tflex-direction: column;\n\tpadding: 0 6px;\n"]);return b=function(){return e},e}function h(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\tvertical-align: middle;\n"]);return h=function(){return e},e}function v(){var e=Object(s.a)(["\n\tbackground-color: ",";\n\tcolor: white;\n\tpadding: 10px;\n\tmargin: 6px;\n\tfont-size: 1.2em;\n\tborder-radius: 6px;\n"]);return v=function(){return e},e}function p(){var e=Object(s.a)(["\n  body {\n    padding: 0;\n    margin: 0;\n    height: 100%;\n\t\twidth: 100%;\n\t\ttext-align: center;\n  }\n"]);return p=function(){return e},e}var g,O=Object(d.a)(p());!function(e){e[e.On=0]="On",e[e.Off=1]="Off"}(g||(g={}));var j=[{id:"C4402D",name:"Spisebord"},{id:"C431FB",name:"Sofa"},{id:"10DB9C",name:"Sovev\xe6relse"}],E=Object(f.connect)("wss://palletten.northeurope.azurecontainer.io:8083");function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toggle";E.publish("shellies/shelly1-".concat(e.id,"/relay/0/command"),n)}var w=function(){var e=Object(r.useState)(),n=Object(l.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(),s=Object(l.a)(i,2),f=s[0],d=s[1],m=Object(r.useState)(j),b=Object(l.a)(m,2),h=b[0],v=b[1],p=h.map((function(e){return e.id}));Object(r.useEffect)((function(){E.on("connect",(function(){console.log("connected"),p.forEach((function(e){E.subscribe("shellies/shelly1-".concat(e,"/relay/0"),(function(e){}))})),E.subscribe("temperature",(function(e){})),E.subscribe("humidity",(function(e){}))}))}),[]),Object(r.useEffect)((function(){E.on("message",(function(e,n){switch(e){case"temperature":c(Number(n));break;case"humidity":d(Number(n))}if(e.startsWith("shellies")){var t=e.match(Object(u.a)(/\x2D([0-9A-Z_a-z]*)/,{id:1}));if(null===t||void 0===t?void 0:t.groups){var r="on"===n.toString()?g.On:g.Off,a=null===t||void 0===t?void 0:t.groups.id;v((function(e){return e.map((function(e){return Object(o.a)({},e,{state:e.id===a?r:e.state})}))}))}}}))}),[]);var w=Object(r.useCallback)((function(){h.forEach((function(e){return y(e,"on")}))}),[h]),k=Object(r.useCallback)((function(){h.forEach((function(e){return y(e,"off")}))}),[h]);return a.a.createElement("div",{className:"App"},a.a.createElement(O,null),a.a.createElement("h1",null,"Palletten"),a.a.createElement("div",null,"Nuv\xe6rende temperatur: ",null!==t&&void 0!==t?t:"unknown"," \xb0C"),a.a.createElement("div",null,"Nuv\xe6rende fugtighed: ",f,"%"),a.a.createElement(S,null,h.map((function(e){return a.a.createElement(x,{key:e.id,shelly:e})}))),a.a.createElement("hr",null),a.a.createElement(C,{onClick:w},"T\xe6nd alt"),a.a.createElement(C,{onClick:k},"Sluk alt"))};function k(e){switch(e){case g.Off:return"red";case g.On:return"green";default:return"grey"}}var x=function(e){var n=e.shelly,t=Object(r.useCallback)((function(){y(n)}),[n]);return a.a.createElement(C,{onClick:t,color:k(n.state)},a.a.createElement(N,null,a.a.createElement(m.a,{size:"20px"})),n.name)},C=d.b.button(v(),(function(e){var n;return null!==(n=e.color)&&void 0!==n?n:"blue"})),S=d.b.div(h()),N=d.b.span(b());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,n,t){e.exports=t(178)},77:function(e,n,t){},80:function(e,n){},82:function(e,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.05b4d87e.chunk.js.map